# Database Configuration
# IMPORTANT: Change these credentials before deploying!
POSTGRES_DB=sharks
POSTGRES_USER=sharks
POSTGRES_PASSWORD=changeme_use_strong_password
DATABASE_URL=postgresql+psycopg://sharks:changeme_use_strong_password@db:5432/sharks

# Redis Configuration
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/2

# API Configuration
ALLOWED_ORIGINS=http://localhost:3000
API_TITLE=Sharks Aggregator API
API_VERSION=0.1.0

# Ingestion Settings
INGEST_INTERVAL_MINUTES=10
MAX_FETCH_RETRIES=3
REQUEST_TIMEOUT_SECONDS=30

# Clustering Settings
CLUSTER_TIME_WINDOW_HOURS=72
CLUSTER_SIMILARITY_THRESHOLD=0.62
ENTITY_OVERLAP_THRESHOLD=0.50
TOKEN_SIMILARITY_THRESHOLD=0.40

# Rate Limiting
SUBMISSION_RATE_LIMIT_PER_IP=10

# Ollama LLM Settings (Hailo-Ollama on Pi5-AI2)
OLLAMA_BASE_URL=http://localhost:8000
OLLAMA_MODEL=qwen2.5-instruct:1.5b
OLLAMA_TIMEOUT_SECONDS=30
LLM_RELEVANCE_ENABLED=true
# Shadow mode: keyword decides, LLM evaluates for comparison report
LLM_EVALUATION_MODE=false

# Admin Settings
ADMIN_ALLOWED_IPS=127.0.0.1,192.168.0.0/24,10.0.0.0/8
ADMIN_API_KEY=

# BlueSky Posting Settings
BLUESKY_ENABLED=false
BLUESKY_HANDLE=sjsharks-news.bsky.social
BLUESKY_APP_PASSWORD=  # Get from bsky.app > Settings > App Passwords
BLUESKY_MIN_SOURCES=1
BLUESKY_POST_INTERVAL_MINUTES=15

# Frontend Configuration
# INTERNAL_API_URL is used by Next.js API routes to proxy requests to the backend.
# The browser never talks directly to the backend - all requests go through Next.js.
# In Docker, use the service name (e.g., http://api:8000)
# Locally, use http://localhost:8001
INTERNAL_API_URL=http://localhost:8001
